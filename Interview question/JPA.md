### Spring Data JPA에서 새로운 Entity인지 판단하는 방법은 무엇일까요?

`EntityInformation`의 `isNew()` 메서드를 통해 새로운 Entity 여부를 판단하며,  
기본적으로 @Id 값이 **참조 타입**이면 `null`인지, **기본 타입**이면 `0`인지 확인하여 `persist` 또는 `merge`를 수행합니다.  

ID를 직접 할당하는 경우에는 `Persistable` 인터페이스를 구현해  
커스텀 로직으로 새로운 Entity 여부를 판단할 수 있습니다.

---

### JPA의 ddl-auto 옵션은 각각 어떤 동작을 하고 어떤 상황에서 사용해야 할까요?

`ddl-auto` 옵션은 JPA에서 스키마 관리를 제어하는 옵션입니다:

- **none**: 스키마와 관련된 어떠한 작업도 수행하지 않습니다.
- **create**: 애플리케이션이 시작될 때 기존 Entity 매핑과 일치하는 스키마를 삭제하고 새롭게 생성합니다.
- **update**: 애플리케이션이 시작될 때 Entity에 변경된 부분들을 스키마에 적용합니다.
- **validate**: Entity 매핑과 데이터베이스 스키마와 일치하는지 검증합니다.
- **create-drop**: 애플리케이션이 시작될 때 스키마를 생성하고 종료될 때 스키마를 삭제합니다.

> **권장 사용 환경**
> - **none**, **validate**: 주로 프로덕션 환경에서 사용.
> - **create**, **update**, **create-drop**: 개발 초기 단계에서 사용.

---

### 엔티티 매니저에 대해 설명해주세요

`EntityManager`란 엔티티의 상태를 변경하고 영속성 컨텍스트를 통해  
데이터베이스와 상호작용을 가능하게 합니다.  

엔티티는 **비영속(Transient)**, **영속(Persistent)**, **준영속(Detached)**, **삭제(Removed)** 상태를 가질 수 있습니다:

1. **비영속 (Transient)**  
   엔티티 객체가 생성되었지만 영속성 컨텍스트에 관리되지 않는 상태.

2. **영속 (Persistent)**  
   엔티티 객체가 영속성 컨텍스트에 의해 관리되는 상태로, 데이터베이스와 동기화됩니다.

3. **준영속 (Detached)**  
   엔티티 객체가 한 번 영속 상태였으나, 현재는 영속성 컨텍스트의 관리에서 벗어난 상태.  
   데이터베이스와 동기화되지 않습니다.

4. **삭제 (Removed)**  
   엔티티 객체가 영속성 컨텍스트에서 삭제 예약된 상태.  
   트랜잭션 커밋 시 데이터베이스에서 삭제됩니다.

### JPA의 N + 1 문제에 대해서 설명해주세요.
JPA의 N+1이란 연관관계를 이룬 엔티티를 조회했을때 조회된 데이터의 개수 N만큼 조회 쿼리가 실행되는 문제를 말합니다.
이를 해결하기 위해 `fetch join`, `@EntityGraph`, `@BatchSize` 등을 사용하여 해결할 수 있습니다.
